<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Well it didn’t take long - but root has been gained on the G1 hardware! It’s actually a suprisingly simple solution, though it will most likely be fixed on the next update release. For archiving purpo">
<meta property="og:type" content="article">
<meta property="og:title" content="root on G1? uh oh...">
<meta property="og:url" content="https://strazzere.com/2008/11/root-on-g1-uh-oh/index.html">
<meta property="og:site_name" content="Strazzere">
<meta property="og:description" content="Well it didn’t take long - but root has been gained on the G1 hardware! It’s actually a suprisingly simple solution, though it will most likely be fixed on the next update release. For archiving purpo">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2008-11-06T00:30:01.000Z">
<meta property="article:modified_time" content="2024-06-18T21:20:59.096Z">
<meta property="article:author" content="Tim Strazzere">
<meta property="article:tag" content="android">
<meta property="article:tag" content="reverse engineering">
<meta property="article:tag" content="root">
<meta property="article:tag" content="sudo">
<meta property="article:tag" content="telnetd">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@timstrazz">
    
    
      
        
          
            <link rel="shortcut icon" href="https://www.gravatar.com/avatar/6a4b43066d19111e850cb14b45eacf93?s=48">
          
        
      
      
        
          
            <link rel="icon" type="image/png" href="https://www.gravatar.com/avatar/6a4b43066d19111e850cb14b45eacf93?s=192" sizes="192x192">
          
        
      
      
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="https://www.gravatar.com/avatar/6a4b43066d19111e850cb14b45eacf93?s=180">
          
        
      
    
    <!-- title -->
    <title>root on G1? uh oh...</title>
    <!-- async scripts -->
    <!-- Google Analytics -->

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-166943540-1"></script>
  <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-166943540-1');
  </script>


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
      <link rel="alternate" href="/true" title="Strazzere" type="application/atom+xml" />
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 7.2.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/strazzere">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2008/11/more-backdoors-for-root-on-the-g1/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2008/11/higher-shell-access-on-the-g1-and-android-emulator/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://strazzere.com/2008/11/root-on-g1-uh-oh/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://strazzere.com/2008/11/root-on-g1-uh-oh/&text=root on G1? uh oh..."><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://strazzere.com/2008/11/root-on-g1-uh-oh/&title=root on G1? uh oh..."><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://strazzere.com/2008/11/root-on-g1-uh-oh/&is_video=false&description=root on G1? uh oh..."><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=root on G1? uh oh...&body=Check out this article: https://strazzere.com/2008/11/root-on-g1-uh-oh/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://strazzere.com/2008/11/root-on-g1-uh-oh/&title=root on G1? uh oh..."><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://strazzere.com/2008/11/root-on-g1-uh-oh/&title=root on G1? uh oh..."><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://strazzere.com/2008/11/root-on-g1-uh-oh/&title=root on G1? uh oh..."><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://strazzere.com/2008/11/root-on-g1-uh-oh/&title=root on G1? uh oh..."><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://strazzere.com/2008/11/root-on-g1-uh-oh/&name=root on G1? uh oh...&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://strazzere.com/2008/11/root-on-g1-uh-oh/&t=root on G1? uh oh..."><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        root on G1? uh oh...
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">Tim Strazzere</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2008-11-06T00:30:01.000Z" class="dt-published" itemprop="datePublished">2008-11-05</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fa-solid fa-archive"></i>
        <a class="category-link" href="/categories/android/">android</a> › <a class="category-link" href="/categories/android/reverse-engineering/">reverse engineering</a>
    </div>


      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/android/" rel="tag">android</a>, <a class="p-category" href="/tags/reverse-engineering/" rel="tag">reverse engineering</a>, <a class="p-category" href="/tags/root/" rel="tag">root</a>, <a class="p-category" href="/tags/sudo/" rel="tag">sudo</a>, <a class="p-category" href="/tags/telnetd/" rel="tag">telnetd</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <p>Well it didn’t take long - but root has been gained on the G1 hardware! It’s actually a suprisingly simple solution, though it will most likely be fixed on the next update release. For archiving purposes I’ll post the method below;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">First, a warning. Root is hidden from you for a reason. Do not attempt this if you a: are not a linux guru already or b: value your G1</span><br><span class="line">Obtaining root gives you power to do stuff you probably shouldnt do without the safety of your phone telling you NO!!</span><br><span class="line"></span><br><span class="line">That said, lets get started!</span><br><span class="line">1: download pterminal http://android-dls.com/files/src.com.poidio.terminal.apk and run it</span><br><span class="line">2: start the telnetd service (“cd /system/bin” then “telnetd”</span><br><span class="line">3: telnet into the device (if you don’t know, do not try this)</span><br><span class="line"></span><br><span class="line">Your job, to find out how to make this permanent (well, how to get it on the device itself, or how to get it from the adb shell) and find out how this helps us flash custom (edited, unsigned) updates.</span><br><span class="line"></span><br><span class="line">Also keep in mind, your next OTA update might disable this, so if you are testing, might want to deny the update.</span><br><span class="line"></span><br><span class="line">Original idea from (we think): SplasPood</span><br><span class="line">Original thread: http://forum.xda-developers.com/showthread.php?t=441081</span><br><span class="line"></span><br><span class="line">Digg this story!!: http://digg.com/gadgets/Tmo_G1_rooted</span><br></pre></td></tr></table></figure>

<p>Source: <a target="_blank" rel="noopener" href="http://android-dls.com.nyud.net/forum/index.php?f=15&t=151&rb_v=viewtopic">http://android-dls.com.nyud.net/forum/index.php?f=15&t=151&rb_v&#x3D;viewtopic</a></p>
<p>And a little extra tid-bit on how to keep this ability through-out boots. Essentially making a ‘sudo’ command:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">It’s so stupid easy to root Android (TC4-RC19 and TC4-RC-29), it’s almost depressing that it took anyone more than ten minutes to find this local root.</span><br><span class="line"></span><br><span class="line">You’ll note that /system is read only if you read the output of mount:</span><br><span class="line"></span><br><span class="line">/dev/block/mtdblock3 /system yaffs2 ro 0 0</span><br><span class="line"></span><br><span class="line">You can launch telnetd on the phone (use a local terminal *on* the phone):</span><br><span class="line"></span><br><span class="line">$ /system/bin/telnetd</span><br><span class="line"></span><br><span class="line">This is curious as according to ‘ls’, telnetd isn’t setuid:</span><br><span class="line"></span><br><span class="line">$ ls -l /system/bin/telnetd</span><br><span class="line">-rwxr-xr-x root shell 9752 2008-09-13 01:13 telnetd</span><br><span class="line"></span><br><span class="line">Two other programs in /system/bin have a setgid bit by default:</span><br><span class="line"></span><br><span class="line">-rwxr-sr-x root inet 5616 2008-09-13 01:13 netcfg</span><br><span class="line">-rwxr-sr-x root net_raw 26628 2008-09-13 01:13 ping</span><br><span class="line"></span><br><span class="line">And yet, despite the lack of any setuid or setgid bit on telnetd… We can now telnet into the Android handset and setuid the shell (what? toolbox doesn’t drop privs if it sees this? ha!):</span><br><span class="line"></span><br><span class="line">rorreoi@bridge:~/Desktop$ telnet 192.168.1.69</span><br><span class="line">Trying 192.168.1.69…</span><br><span class="line">Connected to 192.168.1.69.</span><br><span class="line">Escape character is ‘^]’.</span><br><span class="line"># id</span><br><span class="line">uid=0(root) gid=0(root)</span><br><span class="line"># chmod 4777 /system/bin/sh</span><br><span class="line">Unable to chmod /system/bin/sh: Read-only file system</span><br><span class="line"># mount -o remount,rw -t yaffs2 /dev/block/mtdblock3 /system</span><br><span class="line"># chmod 4777 /system/bin/sh</span><br><span class="line"></span><br><span class="line">Now when you execute ‘/system/bin/sh’, you should have root:</span><br><span class="line"></span><br><span class="line">$ /system/bin/sh</span><br><span class="line">#</span><br><span class="line"></span><br><span class="line">This survives (as it should) a reboot. You should have local root until an OTA update removes the setuid bit from all of the programs you setuid.</span><br><span class="line"></span><br><span class="line">Alternatively, you may want to setup a different program to give you root. It’s unlikely that you’d like your shell to always be running as uid/gid 0.</span><br><span class="line"></span><br><span class="line">Fire up that setuid shell and then simply create a copy of your shell:</span><br><span class="line"></span><br><span class="line">cd /system/bin/</span><br><span class="line">cat sh &gt; spawn-root-shell</span><br><span class="line">chmod 4755 spawn-root-shell</span><br><span class="line"></span><br><span class="line">You may also want to remove the setuid bit from /system/bin/sh if you care.</span><br></pre></td></tr></table></figure>

<p>Source: <a target="_blank" rel="noopener" href="http://ioerror.livejournal.com/495953.html">http://ioerror.livejournal.com/495953.html</a></p>
<p>Hmmm, this is great information. Now we should be able to access <em>any</em> and <em>all</em> files. I’m not on my developement machine right now, but you can bet yourself as soon as I get home I’ll be checking access to the &#x2F;data directory and seeing if we can dump any files from it!</p>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/about/">About</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
          <li><a target="_blank" rel="noopener" href="https://github.com/strazzere">Projects</a></li>
        
      </ul>
    </div>

    
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://strazzere.com/2008/11/root-on-g1-uh-oh/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://strazzere.com/2008/11/root-on-g1-uh-oh/&text=root on G1? uh oh..."><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://strazzere.com/2008/11/root-on-g1-uh-oh/&title=root on G1? uh oh..."><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://strazzere.com/2008/11/root-on-g1-uh-oh/&is_video=false&description=root on G1? uh oh..."><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=root on G1? uh oh...&body=Check out this article: https://strazzere.com/2008/11/root-on-g1-uh-oh/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://strazzere.com/2008/11/root-on-g1-uh-oh/&title=root on G1? uh oh..."><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://strazzere.com/2008/11/root-on-g1-uh-oh/&title=root on G1? uh oh..."><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://strazzere.com/2008/11/root-on-g1-uh-oh/&title=root on G1? uh oh..."><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://strazzere.com/2008/11/root-on-g1-uh-oh/&title=root on G1? uh oh..."><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://strazzere.com/2008/11/root-on-g1-uh-oh/&name=root on G1? uh oh...&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://strazzere.com/2008/11/root-on-g1-uh-oh/&t=root on G1? uh oh..."><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2008-2024
    Tim Strazzere
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/strazzere">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
